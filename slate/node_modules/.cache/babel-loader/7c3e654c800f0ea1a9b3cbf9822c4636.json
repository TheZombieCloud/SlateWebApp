{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexm\\\\Documents\\\\GitHub\\\\SlateWebApp\\\\slate\\\\src\\\\Schedule.js\";\nimport React from 'react';\nimport AddScheduleBlock from \"./AddScheduleBlock\";\nimport './Schedulec.css';\nimport ReactDOM from 'react-dom';\n\nclass ScheduleBlock {\n  constructor(name, duration, start, end, day) {\n    this.state = {\n      name: name,\n      duration: duration,\n      start: start,\n      end: end,\n      day: day\n    };\n  }\n\n}\n\nclass Schedule extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      timetable: [],\n      name: \"begin\"\n    };\n\n    for (var i = 0; i < 144; i++) {\n      this.state.timetable[i] = [];\n\n      for (var c = 0; c < 7; c++) {\n        this.state.timetable[i][c] = \"0\";\n      }\n    }\n\n    this.handler = this.handler.bind(this); //Schedule.addScheduleBlock(new ScheduleBlock(\"SE101\", 100, \"1:00\",\"2:40\", 1));\n    //Schedule.addScheduleBlock(new ScheduleBlock(\"SE101\", 100, \"1:00\",\"2:40\", 4));\n\n    this.state.timetable = Schedule.addTimeTable(this.state.timetable);\n  }\n\n  handler(name, start, end, day) {\n    this.state.name = name;\n    var start2 = start.split(\":\");\n    var end2 = end.split(\":\");\n    var duration = (parseInt(end2[0]) - parseInt(start2[0])) * 60 + parseInt(end2[1]) - parseInt(start2[1]);\n    Schedule.addScheduleBlock(new ScheduleBlock(name, duration, start, end, parseInt(day)));\n    this.state.timetable = Schedule.addTimeTable(this.state.timetable);\n    this.forceUpdate();\n  }\n\n  static addScheduleBlock(block) {\n    //Retrieves schedule blocks from Database and then adds new block\n    if (block.state.start <= block.state.end) this.blocks.push(block);\n  }\n\n  static addTimeTable(timetable) {\n    for (var i = 0; i < this.blocks.length; i++) {\n      var name = this.blocks[i].state.name;\n      var duration = this.blocks[i].state.duration;\n      var start = this.blocks[i].state.start;\n      var end = this.blocks[i].state.end;\n      var day = this.blocks[i].state.day;\n      var temp = start.split(\":\");\n      var time = Math.floor((parseInt(temp[0]) * 60 + parseInt(temp[1])) / 10);\n      timetable[time][day] = name + \" - [\" + start + \"-\" + end + \"]\";\n\n      for (var c = 1; c < duration / 10; c++) {\n        timetable[time + c][day] = 1;\n      }\n    }\n\n    return timetable;\n  }\n\n  render() {\n    var schedule = [];\n    var days = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"];\n\n    for (var i = 0; i < 47; i++) {\n      schedule[i] = [];\n    }\n\n    schedule[0][0] = React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    });\n\n    for (var i = 1; i < 8; i++) {\n      schedule[0][i] = React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, days[i - 1]));\n    }\n\n    for (var i = 1; i < 47; i++) {\n      if (i == 1) {\n        schedule[i][0] = React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, \"12:00 AM\"));\n      } else if ((i - 1) % 2 == 0) {\n        if ((i - 1) / 2 >= 12) {\n          schedule[i][0] = React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          }, React.createElement(\"h3\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84\n            },\n            __self: this\n          }, Math.floor(i / 2).toString() + \":00 PM\"));\n        } else {\n          schedule[i][0] = React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88\n            },\n            __self: this\n          }, React.createElement(\"h3\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89\n            },\n            __self: this\n          }, Math.floor(i / 2).toString() + \":00 AM\"));\n        }\n      } else {\n        if (i == 2) {\n          schedule[i][0] = React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95\n            },\n            __self: this\n          }, React.createElement(\"h3\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 96\n            },\n            __self: this\n          }, \"12:30 AM\"));\n        } else if (i / 2 >= 12) {\n          schedule[i][0] = React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }, React.createElement(\"h3\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 101\n            },\n            __self: this\n          }, Math.floor(i / 2 - 1).toString() + \":30 PM\"));\n        } else {\n          schedule[i][0] = React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 105\n            },\n            __self: this\n          }, React.createElement(\"h3\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 106\n            },\n            __self: this\n          }, Math.floor(i / 2 - 1).toString() + \":30 AM\"));\n        }\n      }\n    }\n\n    for (var k = 1; k < 47; k++) {\n      for (var c = 1; c < 8; c++) {\n        var temp = [];\n\n        for (var i = 0; i < 3; i++) {\n          if (this.state.timetable[(k - 1) * 3 + i][c - 1] != 0) {\n            temp[i] = React.createElement(\"tr\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 116\n              },\n              __self: this\n            }, React.createElement(\"td\", {\n              bgcolor: \"green\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 116\n              },\n              __self: this\n            }));\n          } else {\n            temp[i] = React.createElement(\"tr\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 119\n              },\n              __self: this\n            }, React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 119\n              },\n              __self: this\n            }));\n          }\n        }\n\n        schedule[k][c] = React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, React.createElement(\"table\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, temp));\n      }\n      /*\r\n      for (var i = 1; i < 145; i++) {\r\n          for (var c = 1; c < 8; c++) {\r\n              if (this.state.timetable[i - 1][c - 1] != 0) {\r\n                  schedule[i][c] = (<td bgcolor=\"green\"></td>);\r\n              } else {\r\n                  schedule[i][c] = (<td></td>);\r\n              }\r\n          }\r\n      }*/\n\n    }\n\n    var format = [47];\n\n    for (var i = 0; i < 47; i++) {\n      format[i] = React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, schedule[i]);\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(AddScheduleBlock, {\n      action: this.handler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, format));\n  }\n\n}\n\nSchedule.blocks = [];\nexport default Schedule;","map":{"version":3,"sources":["C:\\Users\\alexm\\Documents\\GitHub\\SlateWebApp\\slate\\src\\Schedule.js"],"names":["React","AddScheduleBlock","ReactDOM","ScheduleBlock","constructor","name","duration","start","end","day","state","Schedule","Component","props","timetable","i","c","handler","bind","addTimeTable","start2","split","end2","parseInt","addScheduleBlock","forceUpdate","block","blocks","push","length","temp","time","Math","floor","render","schedule","days","toString","k","format"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,OAAO,iBAAP;AACA,OAAOC,QAAP,MAAqB,WAArB;;AAEA,MAAMC,aAAN,CAAoB;AAChBC,EAAAA,WAAW,CAACC,IAAD,EAAOC,QAAP,EAAiBC,KAAjB,EAAwBC,GAAxB,EAA6BC,GAA7B,EAAkC;AACzC,SAAKC,KAAL,GAAa;AAACL,MAAAA,IAAI,EAAEA,IAAP;AAAaC,MAAAA,QAAQ,EAAEA,QAAvB;AAAiCC,MAAAA,KAAK,EAAEA,KAAxC;AAA+CC,MAAAA,GAAG,EAAEA,GAApD;AAAyDC,MAAAA,GAAG,EAAEA;AAA9D,KAAb;AACH;;AAHe;;AAMpB,MAAME,QAAN,SAAuBX,KAAK,CAACY,SAA7B,CAAuC;AAGnCR,EAAAA,WAAW,CAACS,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKH,KAAL,GAAa;AAACI,MAAAA,SAAS,EAAE,EAAZ;AAAgBT,MAAAA,IAAI,EAAE;AAAtB,KAAb;;AACA,SAAK,IAAIU,CAAC,GAAG,CAAb,EAAeA,CAAC,GAAC,GAAjB,EAAqBA,CAAC,EAAtB,EAAyB;AACrB,WAAKL,KAAL,CAAWI,SAAX,CAAqBC,CAArB,IAA0B,EAA1B;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAeA,CAAC,GAAC,CAAjB,EAAmBA,CAAC,EAApB,EAAuB;AACnB,aAAKN,KAAL,CAAWI,SAAX,CAAqBC,CAArB,EAAwBC,CAAxB,IAA6B,GAA7B;AACH;AACJ;;AACD,SAAKC,OAAL,GAAe,KAAKA,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAf,CATc,CAUd;AACA;;AACA,SAAKR,KAAL,CAAWI,SAAX,GAAuBH,QAAQ,CAACQ,YAAT,CAAsB,KAAKT,KAAL,CAAWI,SAAjC,CAAvB;AACH;;AAEDG,EAAAA,OAAO,CAACZ,IAAD,EAAOE,KAAP,EAAcC,GAAd,EAAmBC,GAAnB,EAAuB;AAC1B,SAAKC,KAAL,CAAWL,IAAX,GAAkBA,IAAlB;AACA,QAAIe,MAAM,GAAGb,KAAK,CAACc,KAAN,CAAY,GAAZ,CAAb;AACA,QAAIC,IAAI,GAAGd,GAAG,CAACa,KAAJ,CAAU,GAAV,CAAX;AACA,QAAIf,QAAQ,GAAG,CAACiB,QAAQ,CAACD,IAAI,CAAC,CAAD,CAAL,CAAR,GAAkBC,QAAQ,CAACH,MAAM,CAAC,CAAD,CAAP,CAA3B,IAAwC,EAAxC,GAA2CG,QAAQ,CAACD,IAAI,CAAC,CAAD,CAAL,CAAnD,GAA6DC,QAAQ,CAACH,MAAM,CAAC,CAAD,CAAP,CAApF;AACAT,IAAAA,QAAQ,CAACa,gBAAT,CAA0B,IAAIrB,aAAJ,CAAkBE,IAAlB,EAAwBC,QAAxB,EAAkCC,KAAlC,EAAyCC,GAAzC,EAA8Ce,QAAQ,CAACd,GAAD,CAAtD,CAA1B;AACA,SAAKC,KAAL,CAAWI,SAAX,GAAuBH,QAAQ,CAACQ,YAAT,CAAsB,KAAKT,KAAL,CAAWI,SAAjC,CAAvB;AACA,SAAKW,WAAL;AACH;;AAED,SAAOD,gBAAP,CAAwBE,KAAxB,EAA8B;AAC1B;AACA,QAAGA,KAAK,CAAChB,KAAN,CAAYH,KAAZ,IAAmBmB,KAAK,CAAChB,KAAN,CAAYF,GAAlC,EACI,KAAKmB,MAAL,CAAYC,IAAZ,CAAiBF,KAAjB;AACP;;AAED,SAAOP,YAAP,CAAoBL,SAApB,EAA8B;AAC1B,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAeA,CAAC,GAAC,KAAKY,MAAL,CAAYE,MAA7B,EAAoCd,CAAC,EAArC,EAAwC;AACpC,UAAIV,IAAI,GAAG,KAAKsB,MAAL,CAAYZ,CAAZ,EAAeL,KAAf,CAAqBL,IAAhC;AACA,UAAIC,QAAQ,GAAG,KAAKqB,MAAL,CAAYZ,CAAZ,EAAeL,KAAf,CAAqBJ,QAApC;AACA,UAAIC,KAAK,GAAG,KAAKoB,MAAL,CAAYZ,CAAZ,EAAeL,KAAf,CAAqBH,KAAjC;AACA,UAAIC,GAAG,GAAG,KAAKmB,MAAL,CAAYZ,CAAZ,EAAeL,KAAf,CAAqBF,GAA/B;AACA,UAAIC,GAAG,GAAG,KAAKkB,MAAL,CAAYZ,CAAZ,EAAeL,KAAf,CAAqBD,GAA/B;AACA,UAAIqB,IAAI,GAAGvB,KAAK,CAACc,KAAN,CAAY,GAAZ,CAAX;AACA,UAAIU,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAW,CAACV,QAAQ,CAACO,IAAI,CAAC,CAAD,CAAL,CAAR,GAAkB,EAAlB,GAAqBP,QAAQ,CAACO,IAAI,CAAC,CAAD,CAAL,CAA9B,IAAyC,EAApD,CAAX;AACAhB,MAAAA,SAAS,CAACiB,IAAD,CAAT,CAAgBtB,GAAhB,IAAuBJ,IAAI,GAAG,MAAP,GAAgBE,KAAhB,GAAwB,GAAxB,GAA8BC,GAA9B,GAAoC,GAA3D;;AACA,WAAK,IAAIQ,CAAC,GAAG,CAAb,EAAeA,CAAC,GAACV,QAAQ,GAAC,EAA1B,EAA6BU,CAAC,EAA9B,EAAiC;AAC7BF,QAAAA,SAAS,CAACiB,IAAI,GAACf,CAAN,CAAT,CAAkBP,GAAlB,IAAyB,CAAzB;AACH;AACJ;;AACD,WAAOK,SAAP;AACH;;AAEDoB,EAAAA,MAAM,GAAE;AACJ,QAAIC,QAAQ,GAAG,EAAf;AACA,QAAIC,IAAI,GAAG,CAAC,QAAD,EAAW,SAAX,EAAsB,WAAtB,EAAmC,UAAnC,EAA+C,QAA/C,EAAyD,UAAzD,EAAqE,QAArE,CAAX;;AACA,SAAK,IAAIrB,CAAC,GAAG,CAAb,EAAeA,CAAC,GAAC,EAAjB,EAAoBA,CAAC,EAArB,EAAwB;AACpBoB,MAAAA,QAAQ,CAACpB,CAAD,CAAR,GAAc,EAAd;AACH;;AACDoB,IAAAA,QAAQ,CAAC,CAAD,CAAR,CAAY,CAAZ,IAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAlB;;AACA,SAAK,IAAIpB,CAAC,GAAG,CAAb,EAAeA,CAAC,GAAC,CAAjB,EAAmBA,CAAC,EAApB,EAAwB;AACpBoB,MAAAA,QAAQ,CAAC,CAAD,CAAR,CAAYpB,CAAZ,IAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKqB,IAAI,CAACrB,CAAC,GAAG,CAAL,CAAT,CADc,CAAlB;AAGH;;AACD,SAAK,IAAIA,CAAC,GAAG,CAAb,EAAeA,CAAC,GAAC,EAAjB,EAAoBA,CAAC,EAArB,EAAwB;AACpB,UAAIA,CAAC,IAAE,CAAP,EAAS;AACLoB,QAAAA,QAAQ,CAACpB,CAAD,CAAR,CAAY,CAAZ,IAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADc,CAAlB;AAGH,OAJD,MAKK,IAAI,CAACA,CAAC,GAAC,CAAH,IAAM,CAAN,IAAS,CAAb,EAAgB;AACjB,YAAI,CAACA,CAAC,GAAC,CAAH,IAAM,CAAN,IAAW,EAAf,EAAmB;AACfoB,UAAAA,QAAQ,CAACpB,CAAD,CAAR,CAAY,CAAZ,IAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAMiB,IAAI,CAACC,KAAL,CAAWlB,CAAC,GAAG,CAAf,CAAD,CAAoBsB,QAApB,KAAiC,QAAtC,CADc,CAAlB;AAGH,SAJD,MAKK;AACDF,UAAAA,QAAQ,CAACpB,CAAD,CAAR,CAAY,CAAZ,IAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAMiB,IAAI,CAACC,KAAL,CAAWlB,CAAC,GAAG,CAAf,CAAD,CAAoBsB,QAApB,KAAiC,QAAtC,CADc,CAAlB;AAGH;AACJ,OAXI,MAYA;AACD,YAAItB,CAAC,IAAE,CAAP,EAAS;AACLoB,UAAAA,QAAQ,CAACpB,CAAD,CAAR,CAAY,CAAZ,IAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADc,CAAlB;AAGH,SAJD,MAKK,IAAIA,CAAC,GAAC,CAAF,IAAO,EAAX,EAAe;AAChBoB,UAAAA,QAAQ,CAACpB,CAAD,CAAR,CAAY,CAAZ,IAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAMiB,IAAI,CAACC,KAAL,CAAYlB,CAAC,GAAG,CAAL,GAAQ,CAAnB,CAAD,CAAwBsB,QAAxB,KAAqC,QAA1C,CADc,CAAlB;AAGH,SAJI,MAKA;AACDF,UAAAA,QAAQ,CAACpB,CAAD,CAAR,CAAY,CAAZ,IAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAMiB,IAAI,CAACC,KAAL,CAAYlB,CAAC,GAAG,CAAL,GAAQ,CAAnB,CAAD,CAAwBsB,QAAxB,KAAqC,QAA1C,CADc,CAAlB;AAGH;AACJ;AACJ;;AACD,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAeA,CAAC,GAAC,EAAjB,EAAoBA,CAAC,EAArB,EAAyB;AACrB,WAAK,IAAItB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAC,CAAlB,EAAoBA,CAAC,EAArB,EAAyB;AACrB,YAAIc,IAAI,GAAG,EAAX;;AACA,aAAK,IAAIf,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AACxB,cAAI,KAAKL,KAAL,CAAWI,SAAX,CAAqB,CAACwB,CAAC,GAAC,CAAH,IAAM,CAAN,GAAQvB,CAA7B,EAAgCC,CAAC,GAAC,CAAlC,KAAwC,CAA5C,EAA8C;AAC1Cc,YAAAA,IAAI,CAACf,CAAD,CAAJ,GAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAI;AAAI,cAAA,OAAO,EAAG,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAJ,CAAX;AACH,WAFD,MAGK;AACDe,YAAAA,IAAI,CAACf,CAAD,CAAJ,GAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAJ,CAAX;AACH;AACJ;;AACDoB,QAAAA,QAAQ,CAACG,CAAD,CAAR,CAAYtB,CAAZ,IAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAQc,IAAR,CAAJ,CAAlB;AACH;AACD;;;;;;;;;;;AAUH;;AACD,QAAIS,MAAM,GAAG,CAAC,EAAD,CAAb;;AACA,SAAK,IAAIxB,CAAC,GAAG,CAAb,EAAeA,CAAC,GAAC,EAAjB,EAAoBA,CAAC,EAArB,EAAwB;AACpBwB,MAAAA,MAAM,CAACxB,CAAD,CAAN,GAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACRoB,QAAQ,CAACpB,CAAD,CADA,CAAb;AAGH;;AACD,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EACS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADT,EACc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADd,EACmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADnB,EAEI,oBAAC,gBAAD;AAAkB,MAAA,MAAM,EAAE,KAAKE,OAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKsB,MADL,CAHJ,CADJ;AASH;;AA1IkC;;AAAjC5B,Q,CACKgB,M,GAAS,E;AA4IpB,eAAehB,QAAf","sourcesContent":["import React from 'react';\r\nimport AddScheduleBlock from \"./AddScheduleBlock\";\r\nimport './Schedulec.css';\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass ScheduleBlock {\r\n    constructor(name, duration, start, end, day) {\r\n        this.state = {name: name, duration: duration, start: start, end: end, day: day};\r\n    }\r\n}\r\n\r\nclass Schedule extends React.Component {\r\n    static blocks = [];\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {timetable: [], name: \"begin\"};\r\n        for (var i = 0;i<144;i++){\r\n            this.state.timetable[i] = [];\r\n            for (var c = 0;c<7;c++){\r\n                this.state.timetable[i][c] = \"0\";\r\n            }\r\n        }\r\n        this.handler = this.handler.bind(this);\r\n        //Schedule.addScheduleBlock(new ScheduleBlock(\"SE101\", 100, \"1:00\",\"2:40\", 1));\r\n        //Schedule.addScheduleBlock(new ScheduleBlock(\"SE101\", 100, \"1:00\",\"2:40\", 4));\r\n        this.state.timetable = Schedule.addTimeTable(this.state.timetable);\r\n    }\r\n\r\n    handler(name, start, end, day){\r\n        this.state.name = name;\r\n        var start2 = start.split(\":\");\r\n        var end2 = end.split(\":\");\r\n        var duration = (parseInt(end2[0])-parseInt(start2[0]))*60+parseInt(end2[1])-parseInt(start2[1]);\r\n        Schedule.addScheduleBlock(new ScheduleBlock(name, duration, start, end, parseInt(day)));\r\n        this.state.timetable = Schedule.addTimeTable(this.state.timetable);\r\n        this.forceUpdate();\r\n    }\r\n\r\n    static addScheduleBlock(block){\r\n        //Retrieves schedule blocks from Database and then adds new block\r\n        if(block.state.start<=block.state.end)\r\n            this.blocks.push(block);\r\n    }\r\n\r\n    static addTimeTable(timetable){\r\n        for (var i = 0;i<this.blocks.length;i++){\r\n            var name = this.blocks[i].state.name;\r\n            var duration = this.blocks[i].state.duration;\r\n            var start = this.blocks[i].state.start;\r\n            var end = this.blocks[i].state.end;\r\n            var day = this.blocks[i].state.day;\r\n            var temp = start.split(\":\");\r\n            var time = Math.floor((parseInt(temp[0])*60+parseInt(temp[1]))/10);\r\n            timetable[time][day] = name + \" - [\" + start + \"-\" + end + \"]\";\r\n            for (var c = 1;c<duration/10;c++){\r\n                timetable[time+c][day] = 1;\r\n            }\r\n        }\r\n        return timetable;\r\n    }\r\n\r\n    render(){\r\n        var schedule = [];\r\n        var days = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"];\r\n        for (var i = 0;i<47;i++){\r\n            schedule[i] = [];\r\n        }\r\n        schedule[0][0] = (<td></td>);\r\n        for (var i = 1;i<8;i++) {\r\n            schedule[0][i] = (<td>\r\n                <h3>{days[i - 1]}</h3>\r\n            </td>);\r\n        }\r\n        for (var i = 1;i<47;i++){\r\n            if (i==1){\r\n                schedule[i][0] = (<td>\r\n                    <h3>12:00 AM</h3>\r\n                </td>);\r\n            }\r\n            else if ((i-1)%2==0) {\r\n                if ((i-1)/2 >= 12) {\r\n                    schedule[i][0] = (<td>\r\n                        <h3>{(Math.floor(i / 2)).toString() + \":00 PM\"}</h3>\r\n                    </td>);\r\n                }\r\n                else {\r\n                    schedule[i][0] = (<td>\r\n                        <h3>{(Math.floor(i / 2)).toString() + \":00 AM\"}</h3>\r\n                    </td>);\r\n                }\r\n            }\r\n            else {\r\n                if (i==2){\r\n                    schedule[i][0] = (<td>\r\n                        <h3>12:30 AM</h3>\r\n                    </td>);\r\n                }\r\n                else if (i/2 >= 12) {\r\n                    schedule[i][0] = (<td>\r\n                        <h3>{(Math.floor((i / 2)-1)).toString() + \":30 PM\"}</h3>\r\n                    </td>);\r\n                }\r\n                else {\r\n                    schedule[i][0] = (<td>\r\n                        <h3>{(Math.floor((i / 2)-1)).toString() + \":30 AM\"}</h3>\r\n                    </td>);\r\n                }\r\n            }\r\n        }\r\n        for (var k = 1;k<47;k++) {\r\n            for (var c = 1; c<8;c++) {\r\n                var temp = [];\r\n                for (var i = 0; i < 3; i++) {\r\n                    if (this.state.timetable[(k-1)*3+i][c-1] != 0){\r\n                        temp[i] = (<tr><td bgcolor = \"green\"></td></tr>);\r\n                    }\r\n                    else {\r\n                        temp[i] = (<tr><td></td></tr>);\r\n                    }\r\n                }\r\n                schedule[k][c] = (<td><table>{temp}</table></td>);\r\n            }\r\n            /*\r\n            for (var i = 1; i < 145; i++) {\r\n                for (var c = 1; c < 8; c++) {\r\n                    if (this.state.timetable[i - 1][c - 1] != 0) {\r\n                        schedule[i][c] = (<td bgcolor=\"green\"></td>);\r\n                    } else {\r\n                        schedule[i][c] = (<td></td>);\r\n                    }\r\n                }\r\n            }*/\r\n        }\r\n        var format = [47];\r\n        for (var i = 0;i<47;i++){\r\n            format[i] = (<tr>\r\n                {schedule[i]}\r\n            </tr>);\r\n        }\r\n        return(\r\n            <div>\r\n                <br/><br/><br/><br/>\r\n                <AddScheduleBlock action={this.handler}/>\r\n                <table>\r\n                    {format}\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Schedule;"]},"metadata":{},"sourceType":"module"}